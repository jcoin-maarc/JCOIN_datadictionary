$schema: "http://json-schema.org/draft-04/schema#"

id: "summary_socio_demographic"
title: Socio Demographic Summary
type: object
namespace: http://gdc.nci.nih.gov
category: clinical
program: '*'
project: '*'
description: >
  Summary of socio-demographic information including drug use, sex partners, race background, income, insurance, etc asked to a patient at each of the recurrent visit.
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - state
  - created_datetime
  - updated_datetime

links:
  - exclusive: false
    required: true
    subgroup:
      - name: participants
        backref: summary_socio_demographics
        label: performed_on
        target_type: participant
        multiplicity: one_to_one
        required: false
      - name: follow_ups
        backref: summary_socio_demographics
        label: performed_at
        target_type: follow_up
        multiplicity: one_to_one
        required: false

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

required:
  - submitter_id
  - type

properties:
  $ref: "_definitions.yaml#/ubiquitous_properties"

  marstat:
    description: >
      Marital status (F21/MAR_SD)
    enum:
      - "Legally/common-law married"
      - "Not married but living with partner"
      - "Widowed"
      - "Divorced/Annulled"
      - "Separated"
      - "Never married"
      - "Other"
      - "NA (Skipped)"
      - "Refusal"
      - "Unknown"
      - "Missing"

  marsp:
    description: >
      Specify other marital status (F21/MRSPSD)
    type: string

  resid:
    description: >
      Place of residence (F21/ RES_SD)
    enum:
      - "Own house/apartment"
      - "Parent's house"
      - "Someone else's house/apartment"
      - "Rooming/boarding/halfway house"
      - "Shelter/welfare hotel"
      - "Street"
      - "Jail/Correctional facility"
      - "Residential drug/alcohol treatment facility"
      - "Other place"
      - "NA (Skipped)"
      - "Refusal"
      - "Unknown"
      - "Missing"

  residsp:
    description: >
      Specify other place of residence (F21/RESPSD)
    type: string

  employ:
    description: >
      Participant currently employed (F21/EMP_SD)
    enum:
      - "Yes"
      - "No"
      - "NA (Skipped)"
      - "Refusal"
      - "Unknown"
      - "Missing"

  insurance:
    description: >
      Participant currently has insurance
    enum:
      - "Yes"
      - "No"
      - "NA (Skipped)"
      - "Refusal"
      - "Unknown"
      - "Missing"

  drink_status:
    description: >
      Current Alcohol Use (If > 0 drinks then Yes)
    enum:
      - "Yes"
      - "No"
      - "Refusal"
      - "Unknown"
      - "Missing"

  ndrnkwk:
    description: >
      Number of drinks/week since last visit
    type: number

  smoke_status:
    description: >
      Current cigarette smoking status
    enum:
      - "Not currently smoking"
      - "Currently smoking"
      - "Not currently smoking based on last report/visit"
      - "Currently smoking based on last report/visit"

  follow_ups:
    $ref: "_definitions.yaml#/to_one"

  participants:
    $ref: "_definitions.yaml#/to_one"